(this["webpackJsonpagenda-telefonica"]=this["webpackJsonpagenda-telefonica"]||[]).push([[0],{111:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(19),l=t.n(o),s=(t(97),t(98),t(99),t(8)),c=t(22),i=t(90),m=t(119),u=t(120),d=t(118),h=t(11),p=t(52),E=t.p+"static/media/logo.df907e41.png",f=function(){return r.a.createElement(m.a,{className:"header"},r.a.createElement(h.Link,{to:"/",className:"header-titulo navbar-brand"},r.a.createElement("img",{src:E,className:"logo",alt:""})),r.a.createElement(u.a,{className:"justify-content-start itens"},r.a.createElement(h.Link,{to:"/aguai",className:"header-itens nav-link"},"AGUA\xcd"),r.a.createElement(h.Link,{to:"/sao-paulo",className:"header-itens nav-link"},"S\xc3O PAULO")),r.a.createElement(u.a,{className:"justify-content-end"},r.a.createElement(h.Link,{to:"/login",className:"header-item-entrar"},"Login")))},v=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],o=a[1];return r.a.createElement(m.a,{className:"header",expanded:t},r.a.createElement(m.a.Toggle,{onClick:function(){return o(!t&&"expanded")}}),r.a.createElement(h.Link,{to:"/",className:"header-titulo navbar-brand"},r.a.createElement("img",{src:E,className:"logo",alt:""})),r.a.createElement(u.a,{className:"justify-content-start itens"},r.a.createElement(h.Link,{to:"/aguai",className:"header-itens nav-link"},"AGUA\xcd"),r.a.createElement(h.Link,{to:"/sao-paulo",className:"header-itens nav-link"},"S\xc3O PAULO")),r.a.createElement(d.a,{className:"dropdown-menu-header",title:"OP\xc7\xd5ES",id:"nav-dropdown"},r.a.createElement(p.LinkContainer,{to:"/cadastro-setor",className:"dropdown-item"},r.a.createElement(d.a.Item,null,"Cadastrar Setor")),r.a.createElement(p.LinkContainer,{to:"/cadastro-ramal",className:"dropdown-item"},r.a.createElement(d.a.Item,null,"Cadastrar Ramal")),r.a.createElement(p.LinkContainer,{to:"/listar-setores",className:"dropdown-item"},r.a.createElement(d.a.Item,null,"Editar Setores")),r.a.createElement(d.a.Divider,null),r.a.createElement(p.LinkContainer,{to:"/logout",className:"dropdown-item"},r.a.createElement(d.a.Item,null,"Sair"))))},g=t(31),y=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-paragrafo"},"Agenda Multiway 2020 - Todos os direitos reservados."),r.a.createElement("div",{className:"icones-sociais"},r.a.createElement("a",{href:"https://www.multiwayinfra.com.br/",target:"_blank",rel:"noopener noreferrer"}," ",r.a.createElement(g.a,{size:"30",color:"#fff"})),r.a.createElement("a",{href:"https://www.youtube.com/user/Multiway2012/videos",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(g.d,{size:"30",color:"#fff"})),r.a.createElement("a",{href:"https://www.linkedin.com/company/multiway/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(g.c,{size:"30",color:"#fff"})),r.a.createElement("a",{href:"https://instagram.com/multiway_tl",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(g.b,{size:"30",color:"#fff"}))))},b=t(79),C=t(13),S=t(14),N=t(16),O=t(15),j=t(65),k=t(64),I=t(32),L=t(46),T=t(18),w=t(33),x=t(117),R=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).pesquisar=function(e){var a=n.state.data;0!==n.state.cidadeId&&(a=n.state.data.filter((function(e){return e.cidade_id===n.state.cidadeId})));var t=a.filter((function(a){return a.nome.toLowerCase().indexOf(e.target.value.toLowerCase())>=0})),r=a.filter((function(a){return a.setor.toLowerCase().indexOf(e.target.value.toLowerCase())>=0})),o=[].concat(Object(b.a)(t),Object(b.a)(r));n.setState({listaRamais:o})},n.excluirRamal=function(e){null!==n.props.usuario.token&&(window.confirm("Tem certeza que deseja excluir este ramal?")&&fetch("/api/excluirRamal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ramalId:e})}).then((function(e){return e.json()})).then((function(a){alert(a.response),a.excluido&&n.setState({listaRamais:n.state.listaRamais.filter((function(a){return a.id!==e}))})})).catch((function(e){return console.log(e)})))},n.state={data:[],listaRamais:[],isLoading:!1,cidadeId:null},n}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("api/buscarRamais",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cidadeId:0})}).then((function(e){return e.json()})).then((function(a){e.setState({data:a,listaRamais:a,isLoading:!1})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e,a){var t=0;t="aguai"===this.props.match.params.empresa?1:"sao-paulo"===this.props.match.params.empresa?2:0;var n=this.state.data;0!==t&&(n=this.state.data.filter((function(e){return e.cidade_id===t}))),a.cidadeId!==t&&this.setState({listaRamais:n,cidadeId:t})}},{key:"render",value:function(){var e=this,a=this.state,t=a.isLoading,n=a.listaRamais,o=function(e){return r.a.createElement(x.a,Object.assign({id:"button-editar"},e),"Editar")},l=function(e){return r.a.createElement(x.a,Object.assign({id:"button-excluir"},e),"Excluir")};return t?r.a.createElement("div",{className:"loading_container"},r.a.createElement(I.a,{animation:"border",role:"status",className:"loading",variant:"success"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",{className:"tela"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"Lista de Ramais"),r.a.createElement(k.a,{placeholder:"Pesquisar por nome ou setor",onChange:this.pesquisar.bind(this)})),r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"tabela-ramais"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"Ramal"),r.a.createElement("th",null,"Telefone"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Setor"),r.a.createElement("th",null,"Cidade"),null!==this.props.usuario.token&&r.a.createElement("th",null,"Op\xe7\xf5es"))),r.a.createElement("tbody",null,n.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,a.nome),r.a.createElement("td",null,a.ramal),r.a.createElement("td",null,a.telefone),r.a.createElement("td",null,a.email),r.a.createElement("td",null,a.setor),r.a.createElement("td",null,a.nome_cidade),null!==e.props.usuario.token&&r.a.createElement("td",{className:"tabela-td-opcoes"},r.a.createElement(L.a,{placement:"top",delay:{show:250,hide:200},overlay:o},r.a.createElement(h.Link,{to:"/editar-ramal/".concat(a.id)},r.a.createElement(w.a,{size:"25"}))),r.a.createElement(L.a,{placement:"top",delay:{show:250,hide:200},overlay:l},r.a.createElement(T.a,{className:"btn-excluir",variant:"link",onClick:e.excluirRamal.bind(e,a.id)},r.a.createElement(w.b,{size:"25"})))))}))))))}}]),t}(r.a.Component),P=Object(c.b)((function(e){return{usuario:e.usuario}}))(R),G=t(21),B=t(7),D=t(24),_=t(45),q=t.n(_),M=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).salvarRamal=function(){fetch("/api/salvarRamal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nomePessoa:n.state.nomePessoa,numeroRamal:n.state.numeroRamal,numeroTelefone:n.state.numeroTelefone,setorId:n.state.setorId,email:n.state.email,acao:1})}).then((function(e){if(!e.ok)throw Error(e.statusText);e.json()})).then((function(){document.getElementsByClassName("alert-sucesso")[0].style.display="block",n.setState({nomePessoa:"",numeroRamal:"",numeroTelefone:"",setorId:"",email:""})})).catch((function(){return document.getElementsByClassName("alert-erro")[0].style.display="block"}))},n.handleChange=function(e){var a=e.target;n.setState(Object(G.a)({},a.name,a.value)),"cidadeId"===a.name&&a.value>0&&(document.getElementsByName("setorId")[0].children[0].innerHTML="Carregando...",fetch("/api/buscarSetores",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({cidadeId:a.value})}).then((function(e){return e.json()})).then((function(e){document.getElementsByName("setorId")[0].children[0].innerHTML="Selecione...",n.setState({listaSetores:e})})).catch((function(e){return console.log(e)}))),"cidadeId"===a.name&&a.value<=0&&n.setState({listaSetores:[]})},n.esconderErro=function(e){console.log(e),e&&(document.getElementsByClassName("alert-erro")[0].style.display="none")},n.esconderSucesso=function(e){e&&(document.getElementsByClassName("alert-sucesso")[0].style.display="none")},n.state={listaCidades:[],listaSetores:[],nomePessoa:"",numeroRamal:"",numeroTelefone:"",setorId:"",cidadeId:"",email:""},n}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/buscarCidades",{method:"GET"}).then((function(e){return e.json()})).then((function(a){e.setState({listaCidades:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.listaCidades,n=a.listaSetores;return r.a.createElement("div",{className:"tela"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"Cadastro Ramal")),r.a.createElement(B.a.Group,{controlId:"formCadastroPessoa"},r.a.createElement(B.a.Label,null,"Nome:"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Digite o nome",name:"nomePessoa",value:this.state.nomePessoa,onChange:this.handleChange,required:!0})),r.a.createElement(B.a.Group,{controlId:"formCadastroRamal"},r.a.createElement(B.a.Label,null,"Ramal:"),r.a.createElement(q.a,{className:"form-control",placeholder:"Digite o n\xfamero do ramal",mask:"999",type:"text",name:"numeroRamal",value:this.state.numeroRamal,onChange:this.handleChange})),r.a.createElement(B.a.Group,{controlId:"formCadastroTelefone"},r.a.createElement(B.a.Label,null,"Telefone:"),r.a.createElement(q.a,{className:"form-control",placeholder:"Digite o n\xfamero do telefone",mask:"(99) 99999-9999",type:"text",name:"numeroTelefone",value:this.state.numeroTelefone,onChange:this.handleChange}),"                    "),r.a.createElement(B.a.Group,{controlId:"formCadastroEmail"},r.a.createElement(B.a.Label,null,"Email:"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Digite o email",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(B.a.Group,{controlId:"formCadastroCidade"},r.a.createElement(B.a.Label,null,"Cidade:"),r.a.createElement(B.a.Control,{as:"select",name:"cidadeId",value:this.state.cidadeId,onChange:this.handleChange,required:!0},r.a.createElement("option",{value:""},"Selecione"),t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),r.a.createElement(B.a.Group,{controlId:"formCadastroSetor"},r.a.createElement(B.a.Label,null,"Setor:"),r.a.createElement(B.a.Control,{as:"select",name:"setorId",value:this.state.setorId,onChange:this.handleChange,required:!0},r.a.createElement("option",{value:""},"Selecione"),n.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),r.a.createElement("div",{className:"alert-erro"},r.a.createElement(D.a,{variant:"danger",onClose:function(){return e.esconderErro(!0)},dismissible:!0},"Alguma coisa deu errada ao salvar suas informa\xe7\xf5es!")),r.a.createElement("div",{className:"alert-sucesso"},r.a.createElement(D.a,{variant:"success",onClose:function(){return e.esconderSucesso(!0)},dismissible:!0},"Salvo com sucesso!")),r.a.createElement(T.a,{className:"botoes-cor",variant:"primary",type:"button",onClick:this.salvarRamal},"Salvar")))}}]),t}(r.a.Component),J=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target;n.setState(Object(G.a)({},a.name,a.value))},n.salvarSetor=function(){fetch("/api/salvarSetor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nomeSetor:n.state.nomeSetor,cidadeId:n.state.cidadeId})}).then((function(e){if(!e.ok)throw Error(e.statusText);e.json()})).then((function(){document.getElementsByClassName("alert-sucesso")[0].style.display="block",n.setState({nomePessoa:"",numeroRamal:"",numeroTelefone:"",cidadeId:""})})).catch((function(){return document.getElementsByClassName("alert-erro")[0].style.display="block"}))},n.esconderErro=function(){document.getElementsByClassName("alert-erro")[0].style.display="none"},n.esconderSucesso=function(){document.getElementsByClassName("alert-sucesso")[0].style.display="none"},n.state={data:[],nomeSetor:"",cidadeId:""},n}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/buscarCidades",{method:"GET"}).then((function(e){return e.json()})).then((function(a){e.setState({data:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.state.data;return r.a.createElement("div",{className:"tela"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"Cadastro Setor")),r.a.createElement(B.a.Group,{controlId:"formCadastroSetor"},r.a.createElement(B.a.Label,null,"Setor:"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Digite o nome do setor",name:"nomeSetor",value:this.state.nomeSetor,onChange:this.handleChange,required:!0})),r.a.createElement(B.a.Group,{controlId:"formCadastroLocal"},r.a.createElement(B.a.Label,null,"Empresa:"),r.a.createElement(B.a.Control,{as:"select",name:"cidadeId",value:this.state.cidadeId,onChange:this.handleChange.bind(this),required:!0},r.a.createElement("option",{value:""},"Selecione"),a.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),r.a.createElement("div",{className:"alert-erro"},r.a.createElement(D.a,{variant:"danger",onClose:function(){return e.esconderErro()},dismissible:!0},"Alguma coisa deu errada ao salvar suas informa\xe7\xf5es!")),r.a.createElement("div",{className:"alert-sucesso"},r.a.createElement(D.a,{variant:"success",onClose:function(){return e.esconderSucesso()},dismissible:!0},"Salvo com sucesso!")),r.a.createElement(T.a,{className:"botoes-cor",variant:"primary",type:"button",onClick:this.salvarSetor},"Salvar")))}}]),t}(r.a.Component),A=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).excluirSetor=function(e){null!==n.props.usuario.token&&(window.confirm("Tem certeza que deseja excluir este setor?")&&fetch("/api/excluirSetor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({setorId:e})}).then((function(e){return e.json()})).then((function(a){alert(a.response),a.excluido&&n.setState({data:n.state.data.filter((function(a){return a.id!==e}))})})).catch((function(e){return console.log(e)})))},n.state={data:[],nomeSetor:"",idLocal:"",isLoading:!1},n}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/api/buscarSetores",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({cidadeId:0})}).then((function(e){return e.json()})).then((function(a){return e.setState({data:a,isLoading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.data,n=a.isLoading,o=function(e){return r.a.createElement(x.a,Object.assign({id:"button-editar"},e),"Editar")},l=function(e){return r.a.createElement(x.a,Object.assign({id:"button-excluir"},e),"Excluir")};return n?r.a.createElement("div",{className:"loading_container"},r.a.createElement(I.a,{animation:"border",role:"status",className:"loading",variant:"success"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",{className:"tela"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"Editar Setor")),r.a.createElement(j.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"tabela-setores"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Nome Setor"),r.a.createElement("th",null,"Cidade"),r.a.createElement("th",null,"Op\xe7\xf5es"))),r.a.createElement("tbody",null,t.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,a.nome),r.a.createElement("td",null,a.nome_cidade),r.a.createElement("td",null,r.a.createElement(L.a,{placement:"top",delay:{show:250,hide:200},overlay:o},r.a.createElement(h.Link,{to:"/editar-setor/".concat(a.id)},r.a.createElement(w.a,{size:"25"}))),r.a.createElement(L.a,{placement:"top",delay:{show:250,hide:200},overlay:l},r.a.createElement(T.a,{variant:"link",onClick:e.excluirSetor.bind(e,a.id)},r.a.createElement(w.b,{size:"25"})))))}))))))}}]),t}(r.a.Component),z=Object(c.b)((function(e){return{usuario:e.usuario}}))(A),U=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target;n.setState(Object(G.a)({},a.name,a.value))},n.salvarSetor=function(){document.querySelector(".botao-salvar").innerHTML="Salvando...",fetch("/api/atualizarSetor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nomeSetor:n.state.nomeSetor,cidadeId:n.state.cidadeId,setorId:n.props.match.params.setorId})}).then((function(e){if(!e.ok)throw Error(e.statusText);e.json()})).then((function(){document.querySelector(".botao-salvar").innerHTML="Salvar",document.getElementsByClassName("alert-sucesso")[0].style.display="block"})).catch((function(){return document.getElementsByClassName("alert-erro")[0].style.display="block"}))},n.esconderErro=function(e){e&&(document.getElementsByClassName("alert-erro")[0].style.display="none")},n.esconderSucesso=function(e){e&&(document.getElementsByClassName("alert-sucesso")[0].style.display="none")},n.state={data:[],nomeSetor:"",localId:"",isLoading:!1},n}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/buscarCidades",{method:"GET"}).then((function(e){return e.json()})).then((function(a){e.setState({data:a,isLoading:!1})})).catch((function(e){return console.log(e)})),fetch("/api/buscarSetor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({setorId:this.props.match.params.setorId})}).then((function(e){return e.json()})).then((function(a){e.setState({nomeSetor:a[0].nome,cidadeId:a[0].cidade_id})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,a=this.state.data;return this.state.isLoading?r.a.createElement("div",{className:"loading_container"},r.a.createElement(I.a,{animation:"border",role:"status",className:"loading",variant:"success"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",{className:"tela"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"Editar Setor")),r.a.createElement(B.a.Group,{controlId:"formCadastroSetor"},r.a.createElement(B.a.Label,null,"Setor:"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Digite o nome do setor",name:"nomeSetor",value:this.state.nomeSetor,onChange:this.handleChange,required:!0})),r.a.createElement(B.a.Group,{controlId:"formCadastroLocal"},r.a.createElement(B.a.Label,null,"Empresa:"),r.a.createElement(B.a.Control,{as:"select",name:"cidadeId",value:this.state.cidadeId,onChange:this.handleChange.bind(this),required:!0},r.a.createElement("option",{value:""},"Selecione"),a.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),r.a.createElement("div",{className:"alert-erro"},r.a.createElement(D.a,{variant:"danger",onClose:function(){return e.esconderErro(!0)},dismissible:!0},"Alguma coisa deu errada ao salvar suas informa\xe7\xf5es!")),r.a.createElement("div",{className:"alert-sucesso"},r.a.createElement(D.a,{variant:"success",onClose:function(){return e.esconderSucesso(!0)},dismissible:!0},"Salvo com sucesso!")),r.a.createElement(T.a,{className:"botoes-cor botao-salvar",type:"button",onClick:this.salvarSetor},"Salvar")))}}]),t}(r.a.Component),H=t(77),W=t.n(H),$=t(87),F=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).salvarRamal=function(){fetch("/api/salvarRamal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nomePessoa:n.state.nomePessoa,numeroRamal:n.state.numeroRamal,numeroTelefone:n.state.numeroTelefone,setorId:n.state.setorId,ramalId:n.props.match.params.ramalId,email:n.state.email,acao:2})}).then((function(e){if(!e.ok)throw Error(e.statusText);e.json()})).then((function(){return document.getElementsByClassName("alert-sucesso")[0].style.display="block"})).catch((function(){return document.getElementsByClassName("alert-erro")[0].style.display="block"}))},n.handleChange=function(e){var a=e.target;n.setState(Object(G.a)({},a.name,a.value)),"cidadeId"===a.name&&a.value>0&&(document.getElementsByName("setorId")[0].children[0].innerHTML="Carregando...",fetch("/api/buscarSetores",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({cidadeId:a.value})}).then((function(e){return e.json()})).then((function(e){document.getElementsByName("setorId")[0].children[0].innerHTML="Selecione...",n.setState({listaSetores:e})})).catch((function(e){return console.log(e)}))),"cidadeId"===a.name&&a.value<=0&&n.setState({listaSetores:[],setorId:""})},n.esconderErro=function(){document.getElementsByClassName("alert-erro")[0].style.display="none"},n.esconderSucesso=function(){document.getElementsByClassName("alert-sucesso")[0].style.display="none"},n.state={listaSetores:[],listaCidades:[],nomePessoa:"",numeroRamal:"",numeroTelefone:"",setorId:"",cidadeId:"",email:"",isLoading:!1},n}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=Object($.a)(W.a.mark((function e(){var a,t,n,r,o,l;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,fetch("/api/buscarCidades",{method:"GET"});case 4:return a=e.sent,e.next=7,a.json();case 7:return t=e.sent,e.next=10,fetch("/api/buscarRamal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ramalId:this.props.match.params.ramalId})});case 10:return n=e.sent,e.next=13,n.json();case 13:return r=e.sent,e.next=16,fetch("/api/buscarSetores",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({cidadeId:r[0].cidade_id})});case 16:return o=e.sent,e.next=19,o.json();case 19:l=e.sent,this.setState({listaCidades:t,listaSetores:l,nomePessoa:r[0].nome_pessoa,numeroRamal:r[0].ramal,numeroTelefone:r[0].telefone,cidadeId:r[0].cidade_id,setorId:r[0].setor_id,email:r[0].email}),this.setState({isLoading:!1}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log("Erro ao buscar suas informa\xe7\xf5es. "+e.t0);case 27:case"end":return e.stop()}}),e,this,[[1,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.isLoading,n=a.listaCidades,o=a.listaSetores;return t?r.a.createElement("div",{className:"loading_container"},r.a.createElement(I.a,{animation:"border",role:"status",className:"loading",variant:"success"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",{className:"tela"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"Editar Ramal")),r.a.createElement(B.a.Group,{controlId:"formCadastroPessoa"},r.a.createElement(B.a.Label,null,"Nome:"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Digite o nome",name:"nomePessoa",value:null!==this.state.nomePessoa?this.state.nomePessoa:"",onChange:this.handleChange,required:!0})),r.a.createElement(B.a.Group,{controlId:"formCadastroRamal"},r.a.createElement(B.a.Label,null,"Ramal:"),r.a.createElement(q.a,{className:"form-control",placeholder:"Digite o n\xfamero do ramal",mask:"999",type:"text",name:"numeroRamal",value:this.state.numeroRamal,onChange:this.handleChange})),r.a.createElement(B.a.Group,{controlId:"formCadastroTelefone"},r.a.createElement(B.a.Label,null,"Telefone:"),r.a.createElement(q.a,{className:"form-control",placeholder:"Digite o n\xfamero do telefone",mask:"(99) 99999-9999",type:"text",name:"numeroTelefone",value:this.state.numeroTelefone,onChange:this.handleChange})),r.a.createElement(B.a.Group,{controlId:"formCadastroEmail"},r.a.createElement(B.a.Label,null,"Email:"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Digite o email",name:"email",value:null!==this.state.email?this.state.email:"",onChange:this.handleChange})),r.a.createElement(B.a.Group,{controlId:"formCadastroCidade"},r.a.createElement(B.a.Label,null,"Cidade:"),r.a.createElement(B.a.Control,{as:"select",name:"cidadeId",value:this.state.cidadeId,onChange:this.handleChange,required:!0},r.a.createElement("option",{value:""},"Selecione"),n.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),r.a.createElement(B.a.Group,{controlId:"formCadastroSetor"},r.a.createElement(B.a.Label,null,"Setor:"),r.a.createElement(B.a.Control,{as:"select",name:"setorId",value:this.state.setorId,onChange:this.handleChange,required:!0},r.a.createElement("option",{value:""},"Selecione"),o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),r.a.createElement("div",{className:"alert-erro"},r.a.createElement(D.a,{variant:"danger",onClose:function(){return e.esconderErro()},dismissible:!0},"Alguma coisa deu errada ao salvar suas informa\xe7\xf5es!")),r.a.createElement("div",{className:"alert-sucesso"},r.a.createElement(D.a,{variant:"success",onClose:function(){return e.esconderSucesso()},dismissible:!0},"Salvo com sucesso!")),r.a.createElement(T.a,{className:"botoes-cor",variant:"primary",type:"button",onClick:this.salvarRamal},"Salvar")))}}]),t}(r.a.Component),K=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).handleChange=function(e){var a=e.target;n.setState(Object(G.a)({},a.name,a.value))},n.logar=function(){fetch("/api/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({usuario:n.state.usuario,senha:n.state.senha})}).then((function(e){return e.json()})).then((function(e){var a=e.autenticado,t=e.token;a?n.props.onLogin(n.state.usuario,t):document.getElementsByClassName("alert-erro-login")[0].style.display="block"})).catch((function(e){return console.log(e)}))},n.esconderErro=function(){document.getElementsByClassName("alert-erro-login")[0].style.display="none"},n.state={usuario:"",senha:""},n}return Object(S.a)(t,[{key:"render",value:function(){var e=this;return this.props.usuario.token?r.a.createElement(s.c,{to:"/"}):r.a.createElement("div",{className:"container-login"},r.a.createElement("div",{className:"container-forms-login"},r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Usu\xe1rio"),r.a.createElement(B.a.Control,{type:"text",placeholder:"Digite seu usu\xe1rio",name:"usuario",value:this.state.usuario,onChange:this.handleChange})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Senha"),r.a.createElement(B.a.Control,{type:"password",placeholder:"Digite sua senha",name:"senha",value:this.state.senha,onChange:this.handleChange})),r.a.createElement(T.a,{className:"botoes-cor",onClick:this.logar},r.a.createElement("span",null,"Entrar")),r.a.createElement("div",{className:"alert-erro-login"},r.a.createElement(D.a,{variant:"danger",onClose:function(){return e.esconderErro(!0)},dismissible:!0},"Usu\xe1rio ou senha incorretos!"))))}}]),t}(r.a.Component),Q=Object(c.b)((function(e){return{usuario:e.usuario}}),(function(e){return{onLogin:function(a,t){return e({type:"LOGIN",payload:{usuario:{usuario:a,token:t}}})}}}))(K),V=function(e){Object(N.a)(t,e);var a=Object(O.a)(t);function t(){return Object(C.a)(this,t),a.apply(this,arguments)}return Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return null}}]),t}(r.a.Component),X=Object(c.b)(null,(function(e){return{onLogout:function(){return e({type:"LOGOUT"})}}}))(V),Y=function(e){var a=e.usuario,t=e.component,n=e.path;return null===a.token?r.a.createElement(s.c,{to:"/login"}):r.a.createElement(s.d,{path:n,component:t})};var Z=Object(s.o)((function(e){e.location;var a=Object(c.c)((function(e){return e.usuario}));return r.a.createElement("div",{className:"App"},null===a.token?r.a.createElement(f,null):r.a.createElement(v,null),r.a.createElement(s.g,null,r.a.createElement(Y,{path:"/cadastro-ramal",component:M,usuario:a}),r.a.createElement(Y,{path:"/cadastro-setor",component:J,usuario:a}),r.a.createElement(Y,{path:"/listar-setores",component:z,usuario:a}),r.a.createElement(Y,{path:"/cadastro-ramal",component:z,usuario:a}),r.a.createElement(Y,{path:"/editar-setor/:setorId",component:U,usuario:a}),r.a.createElement(Y,{path:"/editar-ramal/:ramalId",component:F,usuario:a}),r.a.createElement(Y,{path:"/logout",component:X,usuario:a}),r.a.createElement(s.d,{path:"/login",component:Q}),r.a.createElement(s.d,{path:"/:empresa",component:P}),r.a.createElement(s.d,{path:"/",exact:!0,component:P})),r.a.createElement(y,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=t(40),ae=t(38),te={empresaId:1,usuario:{usuario:null,token:null}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MUDAR_EMPRESA":return Object(ae.a)(Object(ae.a)({},e),{},{empresaId:a.payload});case"LOGIN":return Object(ae.a)(Object(ae.a)({},e),{},{usuario:a.payload.usuario,senha:a.payload.senha});case"LOGOUT":return Object(ae.a)(Object(ae.a)({},e),{},{usuario:{usuario:null,token:null}});default:return e}},re=t(78),oe=t(88),le=t.n(oe),se=t(89),ce={key:"root",storage:le.a},ie=Object(re.a)(ce,ne),me=Object(ee.c)(ie),ue=Object(re.b)(me);l.a.render(r.a.createElement(c.a,{store:me},r.a.createElement(se.a,{loading:null,persistor:ue},r.a.createElement(h.BrowserRouter,null,r.a.createElement(Z,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,a,t){e.exports=t(111)},97:function(e,a,t){},99:function(e,a,t){}},[[92,1,2]]]);
//# sourceMappingURL=main.59937852.chunk.js.map